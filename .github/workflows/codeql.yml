# .github/workflows/dart-analysis.yml

name: 'Dart CI'

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  analyze:
    name: Analyze Dart Code
    runs-on: ubuntu-latest
    steps:
      # 1. 检出你的代码
      - uses: actions/checkout@v4

      # 2. 设置 Dart SDK
      - uses: dart-lang/setup-dart@v1
      
      # (如果是 Flutter 项目，请使用 flutter-action)
      # - uses: subosito/flutter-action@v2
      #   with:
      #     flutter-version: '3.13.9' # 或者你需要的版本

      # 3. 安装依赖
      - name: Install dependencies
        run: dart pub get # 如果是 Flutter 项目, 运行 flutter pub get

      # 4. 运行代码分析
      - name: Analyze project source
        run: dart analyze --fatal-infos # 如果是 Flutter 项目, 运行 flutter analyze
